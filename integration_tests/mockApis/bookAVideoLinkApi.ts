import { format } from 'date-fns'
import { stubGet } from './wiremock'

const today = format(new Date(), 'yyyy-MM-dd')

export default {
  stubBookAVideoLinkPing: () => stubGet('/book-a-video-link-api/health/ping'),
  stubGetVideoLinkBookings: () =>
    stubGet('/book-a-video-link-api/schedule/prison/MDI\\?date=(.)*&includeCancelled=true', [
      {
        videoBookingId: 1292,
        prisonAppointmentId: 3194,
        bookingType: 'COURT',
        statusCode: 'ACTIVE',
        videoUrl: 'https://test-gov.uk',
        createdByPrison: false,
        courtId: 304,
        courtCode: 'ABERCV',
        courtDescription: 'Aberystwyth Civil',
        hearingType: 'APPEAL',
        hearingTypeDescription: 'Appeal',
        probationTeamId: null,
        probationTeamCode: null,
        probationTeamDescription: null,
        probationMeetingType: null,
        probationMeetingTypeDescription: null,
        prisonCode: 'MDI',
        prisonerNumber: 'G9566GQ',
        appointmentType: 'VLB_COURT_PRE',
        appointmentTypeDescription: 'Video link booking - pre hearing',
        prisonLocKey: 'MDI-RES-AWING-AWVL',
        prisonLocDesc: 'A Wing Video Link',
        dpsLocationId: '00000000-0000-0000-0000-000000000000',
        appointmentDate: today,
        startTime: '09:45',
        endTime: '10:00',
        createdTime: '2025-07-04T12:03:46.068391',
        updatedTime: '2025-07-15T11:44:31.476393',
        probationOfficerName: null,
        probationOfficerEmailAddress: null,
        notesForStaff: 'staff notes',
        notesForPrisoners: 'notes for prisoner',
        hmctsNumber: null,
        guestPin: null,
      },
      {
        videoBookingId: 1292,
        prisonAppointmentId: 3195,
        bookingType: 'COURT',
        statusCode: 'ACTIVE',
        videoUrl: null,
        createdByPrison: false,
        courtId: 304,
        courtCode: 'ABERCV',
        courtDescription: 'Aberystwyth Civil',
        hearingType: 'APPEAL',
        hearingTypeDescription: 'Appeal',
        probationTeamId: null,
        probationTeamCode: null,
        probationTeamDescription: null,
        probationMeetingType: null,
        probationMeetingTypeDescription: null,
        prisonCode: 'MDI',
        prisonerNumber: 'G9566GQ',
        appointmentType: 'VLB_COURT_MAIN',
        appointmentTypeDescription: 'Video link booking - hearing',
        prisonLocKey: 'MDI-RES-AWING-AWVL',
        prisonLocDesc: 'A Wing Video Link',
        dpsLocationId: '00000000-0000-0000-0000-000000000000',
        appointmentDate: today,
        startTime: '10:00',
        endTime: '11:00',
        createdTime: '2025-07-04T12:03:46.068391',
        updatedTime: '2025-07-15T11:44:31.476393',
        probationOfficerName: null,
        probationOfficerEmailAddress: null,
        notesForStaff: 'staff notes',
        notesForPrisoners: 'notes for prisoner',
        hmctsNumber: null,
        guestPin: '4567',
      },
      {
        videoBookingId: 1292,
        prisonAppointmentId: 3196,
        bookingType: 'COURT',
        statusCode: 'ACTIVE',
        videoUrl: 'https://test-gov.uk',
        createdByPrison: false,
        courtId: 304,
        courtCode: 'ABERCV',
        courtDescription: 'Aberystwyth Civil',
        hearingType: 'APPEAL',
        hearingTypeDescription: 'Appeal',
        probationTeamId: null,
        probationTeamCode: null,
        probationTeamDescription: null,
        probationMeetingType: null,
        probationMeetingTypeDescription: null,
        prisonCode: 'MDI',
        prisonerNumber: 'G9566GQ',
        appointmentType: 'VLB_COURT_POST',
        appointmentTypeDescription: 'Video link booking - post hearing',
        prisonLocKey: 'MDI-RES-AWING-AWVL',
        prisonLocDesc: 'A Wing Video Link',
        dpsLocationId: '00000000-0000-0000-0000-000000000000',
        appointmentDate: today,
        startTime: '11:00',
        endTime: '11:15',
        createdTime: '2025-07-04T12:03:46.068391',
        updatedTime: '2025-07-15T11:44:31.476393',
        probationOfficerName: null,
        probationOfficerEmailAddress: null,
        notesForStaff: 'staff notes',
        notesForPrisoners: 'notes for prisoner',
        hmctsNumber: null,
        guestPin: null,
        checkAvailability: true,
      },
    ]),
  stubGetCourts: () => stubGet('/book-a-video-link-api/courts', []),
  stubGetProbationTeams: () => stubGet('/book-a-video-link-api/probation-teams', []),
  stubGetPrison: (pickUpTime: number = 30) =>
    stubGet('/book-a-video-link-api/prisons/MDI', {
      prisonId: 1,
      code: 'MDI',
      name: 'Moorland (HMP)',
      enabled: true,
      pickUpTime,
    }),
}
